[General]
# --- GENERAL ---
# Enhanced Wi-Fi Assist
wifi-assist = false

# Latency Benchmark
internet-test-url = http://www.bing.com/
proxy-test-url = http://www.bing.com/
test-timeout = 5

# TLS Engine
tls-provider = openssl

# GeoIP Database
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb


# IPv6 Support
ipv6 = true

# --- Wi-Fi ACCESS ---
//è‹¥å…è®¸è¿œç¨‹è®¿é—®å°† <false> æ”¹ä¸º <true>,ä»… iOS
allow-wifi-access = false
allow-hotspot-access = true //æ— é™çƒ­ç‚¹ä»£ç†
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153

//è‹¥å…è®¸è¿œç¨‹è®¿é—®å°† <127.0.0.1> æ”¹ä¸º <0.0.0.0>,ä»… macOS
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153

# --- REMOTE CONTROLLER ---
# Remote Controller
external-controller-access = key@127.0.0.1:8888

# HTTP API & Web Dashboard
//This option allows using HTTP APIs to control
http-api = key@0.0.0.0:6166
//ä½¿ç”¨ HTTPS æ›¿ä»£ HTTP åè®®ï¼Œéœ€è¦å…ˆé…ç½® MitM çš„ CA è¯ä¹¦ï¼ŒåŒæ—¶éœ€è¦åœ¨å®¢æˆ·ç«¯è®¾å¤‡ä¸Šæ‰‹åŠ¨å®‰è£…å¹¶ä¿¡ä»» CA è¯ä¹¦ã€‚
http-api-tls = false
//å¼€å¯è¯¥é€‰é¡¹åå¯ä»¥é€šè¿‡æµè§ˆå™¨æ§åˆ¶ Surgeï¼Œæœ¬æœºæµè§ˆå™¨è¾“å…¥127.0.0.1:6166
http-api-web-dashboard = true

# --- COMPATIBILITY ---
# å…¼å®¹æ¨¡å¼
compatibility-mode = False
# è·³è¿‡ä»£ç†
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, passenger.t3go.cn, localhost, *.local
# æ’é™¤ç®€å•ä¸»æœºå
exclude-simple-hostnames = true

# --- DNS ---
# The IP addresses of upstream DNS servers
dns-server = 223.5.5.5, 119.29.29.29, 8.8.8.8, system
# ä» /etc/hosts è¯»å– DNS è®°å½•
read-etc-hosts = true
# The URL of the DNS-over-HTTPS server
doh-server = https://doh.pub/dns-query
# DoH è¯·æ±‚é€šè¿‡ä»£ç†ç­–ç•¥æ‰§è¡Œ
doh-follow-outbound-mode = false

# --- ROUTING ---
# åŒ…å«æ‰€æœ‰ç½‘ç»œè¯·æ±‚
include-all-networks = false
# åŒ…å«æœ¬åœ°ç½‘ç»œè¯·æ±‚
include-local-networks = false

# --- ADVANCED ---
# Log Level
loglevel = notify
# å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
show-error-page-for-reject = true
# Always Real IP Hosts
always-real-ip = link-ip.nextdns.io, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# Hijack DNS
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# TCP Force HTTP Hosts
force-http-engine-hosts = *.ott.cibntv.net, 123.59.31.1,119.18.193.135, 122.14.246.33, 175.102.178.52, 116.253.24.*, 175.6.26.*, 220.169.153.*
# VIF Excluded Routes
//tun-excluded-routes = 239.255.255.250/32
# VIF Included Routes
//tun-included-routes = 192.168.1.12/32
# å½“ Wi-Fi ä¸æ˜¯é¦–é€‰ç½‘ç»œæ—¶ SSID ç»„ç­–ç•¥ä½¿ç”¨é»˜è®¤ç­–ç•¥
use-default-policy-if-wifi-not-primary = false

# æ§åˆ¶å½“ UDP æµé‡è¢«åŒ¹é…åˆ°ä¸€ä¸ªä¸æ”¯æŒ UDP è½¬å‘çš„ç­–ç•¥æ—¶çš„è¡Œä¸º
#   - DIRECTï¼šå›é€€åˆ° DIRECT ç­–ç•¥ï¼ˆé»˜è®¤ï¼‰
#   - REJECTï¼šå›é€€åˆ° REJECT ç­–ç•¥
udp-policy-not-supported-behaviour = REJECT

[Replica]
# æŠ“å–æµé‡ => è¿‡æ»¤å™¨ 1ä¸ºå¼€å¯ï¼Œ0ä¸ºå…³é—­
# éšè— Apple è¯·æ±‚
hide-apple-request = 1
# éšè— Crashlytics è¯·æ±‚
hide-crash-reporter-request = 1
# éšè— UDP ä¼šè¯
hide-udp = 1
# å…³é”®è¯è¿‡æ»¤å™¨
//noneï¼ˆå…³é—­å…³é”®è¯è¿‡æ»¤å™¨ï¼‰ / whitelistï¼ˆä»…è®°å½•åŒ…å«å…³é”®è¯çš„è¯·æ±‚ï¼‰ / blacklistï¼ˆä»…è®°å½•ä¸åŒ…å«å…³é”®è¯çš„è¯·æ±‚ï¼‰ / patternï¼ˆè®°å½•åŒ¹é…é€šé…ç¬¦çš„è¯·æ±‚ï¼‰
keyword-filter-type = blacklist
keyword-filter = icloud, ocsp, logs, analytic, imap, adthor, applovin, appnext, talk, dropbox, github, spys, nexdns, 149.154, 91.108

[Proxy]
[Proxy Group]
ğŸš€ èŠ‚ç‚¹é€‰æ‹© = select, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, direct
ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢ = select,policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰
ğŸ“¹ æ²¹ç®¡è§†é¢‘ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, direct
ğŸŒ è°·æ­Œ = select, direct, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢
ğŸ¥ å¥ˆé£è§†é¢‘ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, direct
ğŸ“½ è¿ªå£«å°¼è§†é¢‘ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, direct
ğŸ“º å·´å“ˆå§†ç‰¹ = select, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, direct
ğŸ“º å“”å“©å“”å“© = select, ğŸ¯ å…¨çƒç›´è¿, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
ğŸŒ å›½å¤–åª’ä½“ = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, direct
ğŸŒ å›½å†…åª’ä½“ = select, direct, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢
â“‚ï¸ å¾®è½¯æœåŠ¡ = select, direct, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢
ğŸ è‹¹æœæœåŠ¡ = select, direct, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢
ğŸ® æ¸¸æˆå¹³å° = select, ğŸš€ èŠ‚ç‚¹é€‰æ‹©, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‘Œ æ‰‹åŠ¨åˆ‡æ¢, direct
ğŸ¯ å…¨çƒç›´è¿ = select, direct,reject
ğŸ›‘ å¹¿å‘Šæ‹¦æˆª = select, reject, direct
ğŸŸ æ¼ç½‘ä¹‹é±¼ = select, direct,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹ = url-test, policy-regex-filter=é¦™æ¸¯|Hong Kong, interval=600, tolerance=0, policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰
ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹ = url-test, policy-regex-filter=ç¾å›½|United State|US, interval=600, tolerance=50, policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰
ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹ = url-test, policy-regex-filter=å°æ¹¾|Taiwan, interval=600, tolerance=50, policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰
ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹ = url-test, policy-regex-filter=æ–°åŠ å¡|ç‹®åŸ|Singapore, interval=600, tolerance=50, policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰
ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹ = url-test, policy-regex-filter=æ—¥æœ¬|Japan, interval=600, tolerance=50, policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰
ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹ = url-test, policy-regex-filter=éŸ©å›½|South Korea, interval=600, tolerance=50, policy-path=æ¢ä¸ºè‡ªå·±çš„è®¢é˜…é“¾æ¥ï¼ˆä»…èŠ‚ç‚¹ä¿¡æ¯ï¼‰

[Rule]

AND,((PROTOCOL,UDP),(DEST-PORT,443)),REJECT-NO-DROP
# Download
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
PROCESS-NAME,WebTorrent Helper,DIRECT

RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/direct.list,ğŸ¯ å…¨çƒç›´è¿
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/youtube.list,ğŸ“¹ æ²¹ç®¡è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/google.list,ğŸŒ è°·æ­Œ
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/microsoft.list,â“‚ï¸ å¾®è½¯æœåŠ¡
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/apple.list,ğŸ è‹¹æœæœåŠ¡
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/netflix.list,ğŸ¥ å¥ˆé£è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/disney.list,ğŸ“½ è¿ªå£«å°¼è§†é¢‘
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/bahumut.list,ğŸ“º å·´å“ˆå§†ç‰¹
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/bilibili.list,ğŸ“º å“”å“©å“”å“©
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/streamingcn.list,ğŸŒ å›½å†…åª’ä½“
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/streaming.list,ğŸŒ å›½å¤–åª’ä½“
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/game.list,ğŸ® æ¸¸æˆå¹³å°
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/select.list,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
RULE-SET,https://raw.githubusercontent.com/rule-airport/quantumult-X-rule/main/QuantumultX/adblock.list,ğŸ›‘ å¹¿å‘Šæ‹¦æˆª

ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
GEOIP,US,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
GEOIP,CN,ğŸ¯ å…¨çƒç›´è¿
FINAL,ğŸŸ æ¼ç½‘ä¹‹é±¼

[URL Rewrite]
# Redirect Google Search Service
^https?:\/\/(www.)?(g|google)\.cn https://www.google.com 302

# Redirect Google Maps Service
^https?:\/\/(ditu|maps).google\.cn https://maps.google.com 302
